{"title":"ClashX的增强模式","date":"2023-08-19T13:47:50.000Z","date_formatted":{"ll":"Aug 19, 2023","L":"08/19/2023","MM-DD":"08-19"},"link":"post/53d5067bc396","comments":true,"tags":["clash"],"categories":["config"],"updated":"2024-03-11T03:21:43.669Z","content":"<h2 id=\"背景\">背景<a title=\"#背景\" href=\"#背景\"></a></h2>\n<p>记录下被 ClashX 的【增强模式】坑惨的一天</p>\n<h2 id=\"git-问题\">git 问题<a title=\"#git-问题\" href=\"#git-问题\"></a></h2>\n<p>一直用的好好的 git，今天却在提交代码时，报错：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh: connect to host github.com port 22: Connection timed out</span><br><span class=\"line\">fatal: Could not read from remote repository.</span><br></pre></td></tr></table></figure>\n<p>在连接 github 时，执行”ssh -T <a href=\"mailto:git@github.com\">git@github.com</a>” 命令时，出现：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">ssh -T git@github.com</span></span><br><span class=\"line\">ssh: connect to host github.com port 22: Connection timed out</span><br></pre></td></tr></table></figure>\n<h2 id=\"git-问题定位\">git 问题定位<a title=\"#git-问题定位\" href=\"#git-问题定位\"></a></h2>\n<h3 id=\"网络问题？\">网络问题？<a title=\"#网络问题？\" href=\"#网络问题？\"></a></h3>\n<p>第一时间觉得是梯子的问题，然后去切换了好几个节点，甚至用上了公司的 VPN</p>\n<p>还是不行</p>\n<h3 id=\"ssh-秘钥过期？\">ssh 秘钥过期？<a title=\"#ssh-秘钥过期？\" href=\"#ssh-秘钥过期？\"></a></h3>\n<p>然后又觉得是 ssh 秘钥过期了，然后去 github 上查看：</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/jiechen257/gallery@main/img/202308202200584.png\" alt=\"image.png\" loading=\"lazy\" class=\"φbp\"></p>\n<p>显示正常呀，然后自己又生成了个新的 rsa 上传，还是不对</p>\n<h2 id=\"git-解决办法\">git 解决办法<a title=\"#git-解决办法\" href=\"#git-解决办法\"></a></h2>\n<p>在多次 google 后的解决办法中，成功实验了一种<br>\n在存放公钥私钥 (id_rsa 和 id_rsa. pub) 的同级文件夹中，有一个 config 文本（没有则新建一个），我原先的内容如下：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">GitHub</span></span><br><span class=\"line\">Host github.com</span><br><span class=\"line\">Hostname ssh.github.com</span><br><span class=\"line\">IdentityFile ~/.ssh/id_rsa_github</span><br><span class=\"line\">User 1487503910@qq.com</span><br></pre></td></tr></table></figure>\n<p>然后发现网上资料还有两行：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">GitHub</span></span><br><span class=\"line\">Host github.com</span><br><span class=\"line\">Hostname ssh.github.com</span><br><span class=\"line\">IdentityFile ~/.ssh/id_rsa_github</span><br><span class=\"line\">User 1487503910@qq.com</span><br><span class=\"line\">Port 443 # this</span><br><span class=\"line\">PreferredAuthentications publickey # this</span><br></pre></td></tr></table></figure>\n<p>猜测是网络层需要指定某种校验规则</p>\n<p>再次执行”ssh -T <a href=\"mailto:git@github.com\">git@github.com</a>” 时，这时验证就可以通过。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">ssh -T git@github.com</span></span><br><span class=\"line\">Hi jiechen257! You&#x27;ve successfully authenticated, but GitHub does not provide shell access.</span><br></pre></td></tr></table></figure>\n<h2 id=\"又现图床问题\">又现图床问题<a title=\"#又现图床问题\" href=\"#又现图床问题\"></a></h2>\n<p>解决完 git 的问题，发现我的图床又不可以用了 :(</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/jiechen257/gallery@main/img/202308202217560.png\" alt=\"\" loading=\"lazy\" class=\"φbp\"></p>\n<p>我图床是用 github + jsdelivr + PicGo 实现的</p>\n<h2 id=\"图床问题定位\">图床问题定位<a title=\"#图床问题定位\" href=\"#图床问题定位\"></a></h2>\n<p>跟git 的思考逻辑一样，这是网络问题？token 过期问题？还是我 picgo 配置问题？</p>\n<p>然后又捣鼓捣鼓好久，发现都不是，然后在 picgo 仓库的中发现一个 issues</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/jiechen257/gallery@main/img/202308202220991.png\" alt=\"\" loading=\"lazy\" class=\"φbp\"></p>\n<p>心想这不就是我的问题吗 :P</p>\n<p>然后给作者发 issues，把错误日志发过去，然后被告知我这就是单纯的网络问题</p>\n<p>我人肯定蒙了呀，但作者大大的话肯定是有依据的，我又排查自己的网络，看这个梯子到底有没有生效</p>\n<p>上 youtube 不再当作依据，我直接 ping 国外网址<br>\n<img src=\"https://cdn.jsdelivr.net/gh/jiechen257/gallery@main/img/202308202246285.png\" alt=\"\" loading=\"lazy\"></p>\n<p>好家伙，感情我是被 ClashX 演了呀 =_=</p>\n<p>然后琢磨 ClashX 的配置项，发现个【增强模式】，果然一开就 ping 通了<br>\n<img src=\"https://cdn.jsdelivr.net/gh/jiechen257/gallery@main/img/202308202249644.png\" style=\"width: 30%;display: flex;justify-content: center;\"></p>\n<h2 id=\"又现-mac-安装-app-问题\">又现 Mac 安装 App 问题<a title=\"#又现-mac-安装-app-问题\" href=\"#又现-mac-安装-app-问题\"></a></h2>\n<p>想必每个 mac 拥有者都遇到过:<br>\n<img src=\"https://cdn.jsdelivr.net/gh/jiechen257/gallery@main/img/202308202228810.png\" alt=\"\" loading=\"lazy\"></p>\n<p>我在测试 picgo 的配置时，删了原有的版本，在重下一个新的包时，就一直报这个错</p>\n<p>google 解决办法都是开启 【运行任何来源】<br>\n<img src=\"https://cdn.jsdelivr.net/gh/jiechen257/gallery@main/img/202308202231539.png\" alt=\"\" loading=\"lazy\"></p>\n<p>但依然无效果</p>\n<h2 id=\"mac-问题再解决\">mac 问题再解决<a title=\"#mac-问题再解决\" href=\"#mac-问题再解决\"></a></h2>\n<p>最后还是在技术网站找到了解决方案：<br>\n<code>sudo xattr -r -d com.apple.quarantine /Applications/PicGo.app</code></p>\n<p>通过 ChatGPT 查到，这段代码的作用是移除文件或文件夹的&quot;com.apple.quarantine&quot;属性，该属性通常与从互联网下载的文件相关联</p>\n<p>具体而言，命令中的各个部分的含义如下:</p>\n<ul>\n<li>\n<p>xattr: 这是macOS中的一个命令，用于操作文件或文件夹的扩展属性（extended attributes）。扩展属性是文件系统中与文件相关联的额外元数据，不同于文件内容或基本属性（如权限、创建日期等）。</p>\n</li>\n<li>\n<p>-r: 这是一个选项，表示递归地处理指定目录下的所有文件和子目录。</p>\n</li>\n<li>\n<p>-d com.apple.quarantine: 这是一个选项和参数的组合，用于删除指定文件或文件夹的名为&quot;com.apple.quarantine&quot;的扩展属性。这将移除与该文件相关的下载来源警告</p>\n</li>\n</ul>\n<p>执行完命令后，再安装就成功了</p>\n<h2 id=\"clashx-的增强模式\">ClashX 的增强模式<a title=\"#clashx-的增强模式\" href=\"#clashx-的增强模式\"></a></h2>\n<p>最后，回到 ClashX 本身，这个功能有什么用，不开会怎样？</p>\n<p>这里就要明确<code>代理</code>的含义了</p>\n<blockquote>\n<p>SS、SSR、V2ray等软件工具属于代理(proxy)，不是VPN。这意味着在电脑上(PC端)，开启这些上网工具后，浏览器可以顺利上外网，但命令行、其他工具的流量可能并不会走代理</p>\n</blockquote>\n<p>如果想实现其他软件也走代理，那就是全局代理，类比之下，也就是 ClashX 的【增强模式】</p>\n<p>所以我在一开始定位网络问题时，能在浏览器上 youtube 等国外网站，但在终端中是没有代理效果的…</p>\n<h2 id=\"最后\">最后<a title=\"#最后\" href=\"#最后\"></a></h2>\n<p>真是充zhe实mo的一天！</p>\n","prev":{"title":"2023 前端技术趋势","link":"post/1438cca65161"},"next":{"title":"为何不推荐 Sass 作为 css 预处理","link":"post/d1db0227e2c5"},"plink":"https://becase.top/post/53d5067bc396/","toc":[{"id":"背景","title":"背景","index":"1"},{"id":"git-问题","title":"git 问题","index":"2"},{"id":"git-问题定位","title":"git 问题定位","index":"3","children":[{"id":"网络问题？","title":"网络问题？","index":"3.1"},{"id":"ssh-秘钥过期？","title":"ssh 秘钥过期？","index":"3.2"}]},{"id":"git-解决办法","title":"git 解决办法","index":"4"},{"id":"又现图床问题","title":"又现图床问题","index":"5"},{"id":"图床问题定位","title":"图床问题定位","index":"6"},{"id":"又现-mac-安装-app-问题","title":"又现 Mac 安装 App 问题","index":"7"},{"id":"mac-问题再解决","title":"mac 问题再解决","index":"8"},{"id":"clashx-的增强模式","title":"ClashX 的增强模式","index":"9"},{"id":"最后","title":"最后","index":"10"}],"reading_time":"1195 words in 8 min"}